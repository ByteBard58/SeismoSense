<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SeismoSense – AI Earthquake Alert Classifier</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>

    <style>
        :root {
            --bg-start: #0b1d26;
            --bg-mid:   #1a3a45;
            --bg-end:   #2c5364;
            --card-bg:  rgba(10,20,30,0.78);
            --accent:   #00d4aa;
            --accent-dark: #00b894;
            --text:     #e2e8f0;
            --muted:    #94a3b8;
            --danger:   #ef4444;
            --warning:  #fb923c;
            --safe:     #22c55e;
            --info:     #0ea5e9;
        }

        *{margin:0;padding:0;box-sizing:border-box;}
        body{
            font-family:'Inter',sans-serif;
            background:linear-gradient(135deg,var(--bg-start),var(--bg-mid),var(--bg-end));
            color:var(--text);
            min-height:100vh;
            display:flex;
            align-items:center;
            justify-content:center;
            padding:1rem;
            overflow-x:hidden;
        }
        .container{
            background:var(--card-bg);
            backdrop-filter:blur(12px);
            border-radius:1.2rem;
            padding:2rem;
            width:100%;
            max-width:420px;
            box-shadow:0 12px 32px rgba(0,0,0,0.35),
                       0 0 0 1px rgba(0,212,170,0.12);
            position:relative;
            overflow:hidden;
            display:flex;
            flex-direction:column;
        }
        .logo{
            display:flex;
            align-items:center;
            justify-content:center;
            gap:.5rem;
            margin-bottom:.5rem;
        }
        .logo svg{width:34px;height:34px;stroke:var(--accent);stroke-width:2.4;}
        .logo h1{
            font-size:1.75rem;
            font-weight:700;
            color:var(--accent);
        }
        .tagline{
            text-align:center;
            font-size:.92rem;
            color:var(--muted);
            margin-bottom:1.5rem;
        }

        /* Form */
        .form-group{
            margin-bottom:1.1rem;
        }
        label{
            display:block;
            font-weight:600;
            font-size:.9rem;
            margin-bottom:.35rem;
            color:#cbd5e1;
        }
        input[type=number]{
            width:100%;
            padding:.75rem 1rem;
            background:rgba(30,35,55,.7);
            border:1px solid rgba(100,110,140,.4);
            border-radius:.6rem;
            color:var(--text);
            font-size:1rem;
            transition:border .2s,box-shadow .2s;
        }
        input:focus{
            outline:none;
            border-color:var(--accent);
            box-shadow:0 0 0 3px rgba(0,212,170,.2);
        }
        .help{
            font-size:.78rem;
            color:#64748b;
            margin-top:.25rem;
            display:block;
        }

        button{
            width:100%;
            padding:.9rem;
            margin-top:1rem;
            background:linear-gradient(135deg,var(--accent),var(--accent-dark));
            color:#fff;
            font-weight:600;
            font-size:1rem;
            border:none;
            border-radius:.6rem;
            cursor:pointer;
            display:flex;
            align-items:center;
            justify-content:center;
            gap:.5rem;
            transition:transform .2s,box-shadow .2s;
        }
        button:hover{
            transform:translateY(-2px);
            box-shadow:0 8px 20px rgba(0,212,170,.3);
        }
        .loader{
            width:18px;height:18px;
            border:2px solid transparent;
            border-top:2px solid #fff;
            border-radius:50%;
            animation:spin 1s linear infinite;
        }
        @keyframes spin{to{transform:rotate(360deg);}}

        /* Result */
        .result{
            margin-top:1.5rem;
            padding:1.2rem;
            border-radius:.8rem;
            text-align:center;
            font-weight:600;
            animation:fadeIn .4s ease-out;
        }
        .result.safe   {background:rgba(34,197,94,.2);border:1px solid var(--safe);color:#86efac;}
        .result.orange {background:rgba(251,146,60,.2);border:1px solid var(--warning);color:#fb923c;}
        .result.red    {background:rgba(239,68,68,.2);border:1px solid var(--danger);color:#fca5a5;}
        .result.yellow {background:rgba(250,204,21,.2);border:1px solid #facc15;color:#fde047;}

        .conf-bar{
            height:8px;
            background:#1e293b;
            border-radius:4px;
            overflow:hidden;
            margin: .8rem 0;
        }
        .conf-fill{
            height:100%;
            width:0;
            border-radius:4px;
            transition:width 1.2s cubic-bezier(0.65, 0, 0.35, 1);
        }
        .conf-fill.green  {background:#22c55e;}
        .conf-fill.orange {background:#fb923c;}
        .conf-fill.red    {background:#ef4444;}
        .conf-fill.yellow {background:#facc15;}

        .conf-text{
            font-size:.88rem;
            color:var(--muted);
        }

        /* Footer */
        .footer {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(100, 110, 140, 0.3);
            font-size: 0.8rem;
            color: #64748b;
            text-align: center;
            line-height: 1.5;
        }
        .footer a {
            color: var(--accent);
            text-decoration: none;
            font-weight: 500;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .footer strong {
            color: #cbd5e1;
        }

        /* Wave animation */
        .wave-bg{
            position:absolute;
            inset:0;
            overflow:hidden;
            pointer-events:none;
            z-index:-1;
        }
        .wave{
            position:absolute;
            bottom:0;
            width:200%;
            height:180px;
            background:linear-gradient(90deg,transparent,rgba(0,212,170,.04),transparent);
            animation:wave 9s cubic-bezier(.36,.45,.63,.53) infinite;
        }
        .wave:nth-child(1){animation-duration:7s;opacity:.6;}
        .wave:nth-child(2){animation-duration:11s;opacity:.3;animation-delay:-2s;}
        @keyframes wave{
            0%{transform:translateX(0);}
            100%{transform:translateX(-50%);}
        }

        @keyframes fadeIn{
            from{opacity:0;transform:translateY(10px);}
            to{opacity:1;transform:none;}
        }

        .hidden { display: none; }
    </style>
</head>
<body>

<div class="wave-bg">
    <div class="wave"></div>
    <div class="wave"></div>
</div>

<div class="container">
    <div class="logo">
        <svg viewBox="0 0 24 24"><path fill="none" d="M12 2v20M3 12h18M5.5 5.5l13 13M5.5 18.5l13-13"/></svg>
        <h1>SeismoSense</h1>
    </div>
    <p class="tagline">AI-Powered Earthquake Alert Classifier</p>

    <form method="POST" id="seismoForm">
        <div class="form-group">
            <label for="magnitude">Magnitude (Richter)</label>
            <input type="number" step="0.01" name="magnitude" id="magnitude" required>
            <small class="help">Typical range: 0.0 – 9.0</small>
        </div>

        <div class="form-group">
            <label for="depth">Depth (km)</label>
            <input type="number" step="0.01" name="depth" id="depth" required>
        </div>

        <div class="form-group">
            <label for="cdi">CDI (Community Decimal Intensity)</label>
            <input type="number" step="0.01" name="cdi" id="cdi" required>
        </div>

        <div class="form-group">
            <label for="mmi">MMI (Modified Mercalli Intensity)</label>
            <input type="number" step="0.01" name="mmi" id="mmi" required>
        </div>

        <div class="form-group">
            <label for="sig">SIG (Significance)</label>
            <input type="number" step="0.01" name="sig" id="sig" required>
        </div>

        <button type="submit" id="predictBtn">
            <span class="btn-text">Predict Alert</span>
            <span class="loader hidden" id="loader"></span>
        </button>
    </form>

    <!-- Result Section -->
    <div id="resultContainer" class="hidden">
        {% if result and result != 'Error' %}
        <div class="result {{ result }}">
            <strong>Predicted Alert: {{ result | upper }}</strong>
            {% if confidence %}
            <p class="conf-text">Confidence: <span id="confValue">{{ confidence }}</span>%</p>
            <div class="conf-bar">
                <div id="confFill" class="conf-fill {{ result }}" style="width: 0%;"></div>
            </div>
            {% endif %}
        </div>
        {% elif result and result.startswith('Error') %}
        <div class="result red">
            <strong>{{ result }}</strong>
        </div>
        {% endif %}
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>
            Check the official GitHub repo for this web app
            <a href="https://github.com/ByteBard58/SeismoSense" target="_blank">here</a>.<br>
            The SeismoSense is licensed under the <strong>MIT License</strong>.<br>
            &copy; 2025 <strong>Sakib Hossain</strong>. All rights reserved.
        </p>
    </div>
</div>

<script>
    feather.replace();

    const form = document.getElementById('seismoForm');
    const btn = document.getElementById('predictBtn');
    const btnText = btn.querySelector('.btn-text');
    const loader = document.getElementById('loader');
    const resultContainer = document.getElementById('resultContainer');
    const confFill = document.getElementById('confFill');
    const confValue = document.getElementById('confValue');

    form.addEventListener('submit', () => {
        btn.disabled = true;
        btnText.textContent = 'Analyzing…';
        loader.classList.remove('hidden');
        resultContainer.classList.add('hidden');
    });

    document.addEventListener('DOMContentLoaded', () => {
        if (confFill && confValue) {
            const width = confValue.textContent.trim();
            resultContainer.classList.remove('hidden');
            confFill.style.width = '0%';
            setTimeout(() => {
                confFill.style.width = width + '%';
            }, 100);
        } else if (resultContainer.querySelector('.result')) {
            resultContainer.classList.remove('hidden');
        }
    });
</script>
</body>
</html>